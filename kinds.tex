\newcommand{\NIsOfKd}[2]{\JInfix{#1}{\Uparrow}{#2}}
\newcommand{\CIsOfKd}[2]{\JInfix{#1}{\Downarrow}{#2}}

\newcommand{\typkdabt}{\kw{Ty}}
\newcommand{\typkdcst}{\kw{Ty}}
\newcommand{\prodkdabt}[2]{\OpABT{\mathbf{\times}}{#1;#2}}
\newcommand{\prodkdcst}[2]{{#1}\mathbin{\mathbf{\times}}{#2}}
\newcommand{\arrkdabt}[2]{\OpABT{\mathbf{\to}}{#1;#2}}
\newcommand{\arrkdcst}[2]{{#1}\mathbin{\mathbf{\to}}{#2}}
\newcommand{\unitkdabt}{\kw{Unit}}
\newcommand{\unitkdcst}{1}

\newcommand{\carrabt}{\mathord{\kw{arr}}}
\newcommand{\carrcst}{\mathord{\to}}
\newcommand{\callabt}[1]{\OpABTn{\forall}{#1}}
\newcommand{\callcst}[1]{\forall_{#1}}
\newcommand{\csomeabt}[1]{\OpABTn{\exists}{#1}}
\newcommand{\csomecst}[1]{\exists_{#1}}
\newcommand{\clamabt}[3]{\OpABTp{\lambda}{#1}{\AbsABT{#2}{#3}}}
\newcommand{\clamcst}[3]{\mathop{\lambda}\cdparens{\IsOfKdVar{#2}{#1}}\,{#3}}
\newcommand{\culamabt}[2]{\OpABT{\lambda}{\AbsABT{#1}{#2}}}
\newcommand{\culamcst}[2]{\mathop{\lambda}\cdparens{#1}\,{#2}}
\newcommand{\cappabt}[2]{\OpABT{\kw{app}}{#1;#2}}
\newcommand{\cappcst}[2]{{#1}\cdsqbracks{#2}}
\newcommand{\cpairabt}[2]{\OpABT{\kw{pair}}{#1;#2}}
\newcommand{\cpaircst}[2]{\langle #1\cdcomma #2\rangle}
\newcommand{\cprojabt}[2]{\OpABT{\OpInst{\kw{proj}}{#2}}{#1}}
\newcommand{\cprojcst}[2]{{#1}\mathbin{\cdot}{#2}}
\newcommand{\cfstabt}[1]{\OpABT{\OpInst{\kw{proj}}{\kw{l}}}{#1}}
\newcommand{\cfstcst}[1]{\cprojcst{#1}{\kw{l}}}
\newcommand{\csndabt}[1]{\OpABT{\OpInst{\kw{proj}}{\kw{r}}}{#1}}
\newcommand{\csndcst}[1]{\cprojcst{#1}{\kw{r}}}
\newcommand{\cunitabt}{\kw{triv}}
\newcommand{\cunitcst}{\langle\rangle}

\newcommand{\arrktyabt}[2]{\cappabt{\cappabt{\carrabt}{#1}}{#2}}
\newcommand{\arrktycst}[2]{{#1}\mathbin{\to}{#2}}

\newcommand{\allkabt}[3]{\OpABTp{\kw{all}}{#1}{\AbsABT{#2}{#3}}}
\newcommand{\allkcst}[3]{\mathop{\forall}\AbsABT{\IsOfKdVar{#2}{#1}}{#3}}
\newcommand{\somekabt}[3]{\OpABTp{\kw{some}}{#1}{\AbsABT{#2}{#3}}}
\newcommand{\somekcst}[3]{\mathop{\exists}\AbsABT{\IsOfKdVar{#2}{#1}}{#3}}

\newcommand{\allkconabt}[2]{\cappabt{\callabt{#1}}{#2}}
\newcommand{\allkconcst}[2]{\cappcst{\callcst{#1}}{#2}}
\newcommand{\allktyabt}[3]{\allkconabt{#1}{\clamabt{#1}{#2}{#3}}}
\newcommand{\allktycst}[3]{\allkconcst{#1}{\clamcst{#1}{#2}{#3}}}
\newcommand{\allktyabtalt}[3]{\OpABT{\callabt{#1}}{\AbsABT{#2}{#3}}}
\newcommand{\allktycstalt}[3]{\cappcst{\forall}{\AbsABT{\IsOfKdVar{#2}{#1}}{#3}}}

\newcommand{\somekconabt}[2]{\cappabt{\csomeabt{#1}}{#2}}
\newcommand{\somekconcst}[2]{\cappcst{\csomecst{#1}}{#2}}
\newcommand{\somektyabt}[3]{\somekconabt{#1}{\clamabt{#1}{#2}{#3}}}
\newcommand{\somektycst}[3]{\somekconcst{#1}{\clamcst{#1}{#2}{#3}}}
\newcommand{\somektyabtalt}[3]{\OpABT{\csomeabt{#1}}{\AbsABT{#2}{#3}}}
\newcommand{\somektycstalt}[3]{\cappcst{\exists}{\AbsABT{\IsOfKdVar{#2}{#1}}{#3}}}

\newcommand{\ctotabt}[1]{#1}    % constructor to type inclusion
\newcommand{\ctotcst}[1]{#1}
\newcommand{\conastyabt}[1]{\OpABT{\kw{typ}}{#1}}
\newcommand{\conastycst}[1]{\conastyabt{#1}}

\newcommand{\tlamkabt}[3]{\OpABTp{\kw{Lam}}{#1}{\AbsABT{#2}{#3}}}
\newcommand{\tlamkcst}[3]{\Lambda\cdparens{\IsOfKdVar{#2}{#1}}\,{#3}}
\newcommand{\tappkabt}[2]{\OpABTp{\kw{App}}{#2}{#1}}
\newcommand{\tappkcst}[2]{{#1}\cdsqbracks{#2}}
\newcommand{\packkabt}[5]{\OpABTp{\kw{pack}}{#1;#2;#3}{#4;#5}}
\newcommand{\packkcst}[5]{\kwop{pack}{#4}\kwop{with}{#5}\kwop{as}\somekcst{#1}{#2}{#3}}
%\newcommand{\opnkabt}[7]{\OpABTp{\kw{open}}{#1;\AbsABT{#2}{#3}}{#5;\AbsABT{#2,#6}{#7}}}
\newcommand{\opnkcst}[7]{\kwop{open}{#5}\kwop{as}\IsOfKdVar{#2}{#1}\kwop{with}\IsOfVar{#6}{#3}\kwop{in}{#7}}

\newcommand{\arrconabt}{\kw{arr}}
\newcommand{\arrconcst}{\arrconabt}
\newcommand{\allconabt}[1]{\OpABTn{\kw{all}}{#1}}
\newcommand{\allconcst}[1]{\allconabt{#1}}
\newcommand{\someconabt}[1]{\OpABTn{\kw{some}}{#1}}
\newcommand{\someconcst}[1]{\someconabt{#1}}

\newcommand{\lettyabt}[3]{\OpABT{\kw{typdef}}{#2;\AbsABT{#1}{#3}}}
\newcommand{\lettycst}[3]{\kwop{def}{#1}\kwop{is}{#2}\kwop{in}{#3}}

\newcommand{\sharekdcst}[4]{{#1}\mathbin{\cdcoloncolon}{#2}\mathbin{\kw{/}}\EqKd{#3}{#4}}
\newcommand{\wherekdcst}[3]{{#1}\cdbraces{#2\colonequals #3}}

\newcommand{\SubKd}{\mathrel{{<}{:}{:}}}
\newcommand{\IsSubKd}[2]{{#1}\SubKd{#2}}

\newcommand{\singkdabt}[1]{\OpABT{\kw{S}}{#1}}
\newcommand{\singkdcst}[1]{\OpABT{\kw{S}}{#1}}

\newcommand{\hsingkdabt}[2]{\OpABTp{\kw{S}}{#2}{#1}}
\newcommand{\hsingkdcst}[2]{\OpABT{\kw{S}}{{#2}\mathop{::}{#1}}}

\newcommand{\pikdabt}[3]{\OpABT{\Pi}{#1;\AbsABT{#2}{#3}}}
\newcommand{\pikdcst}[3]{\mathop{\Pi}\AbsABT{\IsOfKdVar{#2}{#1}}{#3}}
\newcommand{\sigkdabt}[3]{\OpABT{\Sigma}{#1;\AbsABT{#2}{#3}}}
\newcommand{\sigkdcst}[3]{\mathop{\Sigma}\AbsABT{\IsOfKdVar{#2}{#1}}{#3}}

\ifthenelse{\boolean{canonization}}{

\newcommand{\SubstCNN}[4]{\sqbracks{{#2}\mathord{/}{#3}\mathbin{:}{#1}}{#4}}
\newcommand{\SubstCNC}[4]{\sqbracks{{#2}\mathord{/}{#3}\mathbin{:}{#1}}{#4}}
\newcommand{\SubstCC}[4]{\sqbracks{{#2}\mathord{/}{#3}\mathbin{:}{#1}}{#4}}

% inclusion of atomic into canonical
\newcommand{\ciacabt}[1]{\OpABT{\kw{atom}}{#1}}
\newcommand{\ciaccst}[1]{\widehat{#1}}

\newcommand{\mkcanon}[3]{\IsOfKd{#1}{#2}\Downarrow{#3}}
\newcommand{\mkatom}[3]{{#1}\Uparrow\IsOfKd{#2}{#3}}

\newcommand{\hdsimp}[2]{#1\mathrel{\twoheadrightarrow}#2}

}{}

%%% Local Variables: 
%%% mode: latex
%%% TeX-master: "book"
%%% End: 
